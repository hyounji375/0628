<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OOP</title>
    <script>
      //interface는 class의 설계도
      /*  
      interface 자판기기능{
            자판기뽑기();
            자판기구동();
            자판기정지();
            자판기청소();
        }

        class 자판기 implements 자판기기능 //implements는 구현한다는 뜻. impl은 interface로 구현한 구현체라는 뜻
        {
            constructor(자판기종류) {
          this.자판기종류 = 자판기종류;
          this.자판기상태 = false;
        }

        //자판기상태를 true와 false로 바꿔주는 함수
        자판기구동() {
          if (this.자판기상태 === true) {
            console.log("자판기가 이미 가동 중입니다.");
          } else {
            this.자판기상태 = true;
            console.log("자판기가 구동되었습니다.");
          }
        }
        자판기정지() {
          if (this.자판기상태 === false) {
            console.log("자판기가 이미 정지되었습니다.");
          } else {
            this.자판기상태 = true;
            console.log("자판기 구동이 정지되었습니다.");
          }
        }

        자판기뽑기(coin) {
          if (this.자판기상태 === true) {
            if (this.자판기종류 === "drink") {
              if (coin === 300) {
                console.log("솔의눈");
              } else if (coin === 500) {
                console.log("비타500");
              } else if (coin === 1000) {
                console.log("콜라");
              } else {
                console.log("금액을 잘못 투입하셨습니다");
              }
            }
          } else {
            console.log("자판기가 정지되어 있습니다");
          }
        }
      }

      class 안에는 interface 안의 기능들을 꼭 포함하고 있어야 한다. interface에 없는 기능을 플러스알파로 넣어도 상관은 없지만 설계한 건 꼭 있어야 함. 
      이 상태로는 자판기청소()가 없기 때문에 에러난다.
*/

      class 자판기 {
        //생성자. 객체를 만들어 낼 때 받아야 하는 데이터
        constructor(자판기종류) {
          this.자판기종류 = 자판기종류; //class 내에서 사용하는 변수 = 매개변수
          this.자판기상태 = false;
          //this는 얘는 이 class로 생성된 객체에서만 쓰는 변수야라는 뜻.
        }

        //자판기상태를 true와 false로 바꿔주는 함수
        자판기구동() {
          if (this.자판기상태 === true) {
            console.log("자판기가 이미 가동 중입니다.");
          } else {
            this.자판기상태 = true;
            console.log("자판기가 구동되었습니다.");
          }
        }

        자판기정지() {
          if (this.자판기상태 === false) {
            console.log("자판기가 이미 정지되었습니다.");
          } else {
            this.자판기상태 = false;
            console.log("자판기 구동이 정지되었습니다.");
          }
        }

        자판기청소() {
          if (this.자판기상태 === false) {
            console.log("자판기를 청소하였습니다");
          } else {
            console.log("자판기를 먼저 정지해주세요");
          }
        }
        자판기뽑기(coin) {
          if (this.자판기상태 === true) {
            if (this.자판기종류 === "drink") {
              if (coin === 300) {
                console.log("솔의눈");
              } else if (coin === 500) {
                console.log("비타500");
              } else if (coin === 1000) {
                console.log("콜라");
              } else {
                console.log("금액을 잘못 투입하셨습니다");
              }
            }
          } else {
            console.log("자판기가 정지되어 있습니다");
          }
        }
      }

      /*new 자판기("drink")와 class 자판기는 같은 것.
      그래서 drink는 constructor(자판기종류)의 자판기종류로 감.
      즉, constructor(drink).  this.drink
      자판기라는 틀(class)에서 drink가 data가 되어 내용을 채움*/

      //객체 생성 중
      const 음료자판기 = new 자판기("drink"); //팥붕어빵1
      const 음료자판기2 = new 자판기("drink"); //팥붕어빵2

      음료자판기.자판기뽑기(300); //자판기상태가 false라서 콘솔로그에는 자판기가 정지되어 있다고 찍힘.

      음료자판기.자판기청소();
      음료자판기.자판기구동();
      음료자판기.자판기뽑기(300);
      음료자판기2.자판기뽑기(300);
      음료자판기.자판기청소();
      음료자판기.자판기정지();
    </script>
  </head>
  <body></body>
</html>
